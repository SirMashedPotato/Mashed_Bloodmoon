<?xml version="1.0" encoding="utf-8"?>
<Defs>
	<!-- ==========[Mashed_Bloodmoon_ConsumeHeart]==========-->
	<AbilityDef>
		<defName>Mashed_Bloodmoon_ConsumeHeart</defName>
		<label>consume heart</label>
		<description>Consume a healthy and fresh heart, either from a corpse or a downed pawn. Each heart consumed will increase lycanthropic stress limit by one, as well as reducing hunger and fatigue based on the size of the heart.\n\nConsuming the heart of a pawn under the effect of a wolfsbane elixir will cause toxic buildup. Consuming the heart of another lycanthrope will also consume their lycanthropy, transferring some of their totems in the process.</description>
		<descriptionHyperlinks>
			<StatDef>Mashed_Bloodmoon_LycanthropicStressMax</StatDef>
		</descriptionHyperlinks>
		<level>1</level>
		<cooldownTicksRange>300</cooldownTicksRange>
		<iconPath>UI/Abilities/Mashed_Bloodmoon_ConsumeHeart</iconPath>
		<jobDef>CastAbilityOnThingMelee</jobDef>
		<stunTargetWhileCasting>true</stunTargetWhileCasting>
		<showPsycastEffects>false</showPsycastEffects>
		<displayGizmoWhileUndrafted>true</displayGizmoWhileUndrafted>
		<disableGizmoWhileUndrafted>false</disableGizmoWhileUndrafted>
		<warmupEffecter>EatMeat</warmupEffecter>
		<comps>
			<li Class="Mashed_Bloodmoon.CompProperties_AbilityConsumeHeart">
				<goodwillImpact>-70</goodwillImpact>
			</li>
		</comps>
		<verbProperties>
			<drawAimPie>False</drawAimPie>
			<range>-1</range>
			<warmupTime>3</warmupTime>
			<verbClass>Verb_CastAbilityTouch</verbClass>
			<targetParams>
				<canTargetBuildings>false</canTargetBuildings>
				<canTargetMechs>false</canTargetMechs>
				<canTargetCorpses>true</canTargetCorpses>
			</targetParams>
		</verbProperties>
	</AbilityDef>
	<!-- ==========[Mashed_Bloodmoon_AdrenalineRush]==========-->
	<AbilityDef>
		<defName>Mashed_Bloodmoon_AdrenalineRush</defName>
		<label>adrenaline rush</label>
		<description>Cause adrenaline to surge throughout the body, completely nullifying pain and staunching bleeding for a short duration.</description>
		<iconPath>UI/Abilities/Mashed_Bloodmoon_AdrenalineRush</iconPath>
		<cooldownTicksRange>1200</cooldownTicksRange>
		<hostile>false</hostile>
		<casterMustBeCapableOfViolence>false</casterMustBeCapableOfViolence>
		<statBases>
			<Ability_Duration>20</Ability_Duration>
		</statBases>
		<verbProperties>
			<verbClass>Verb_CastAbility</verbClass>
			<drawAimPie>false</drawAimPie>
			<requireLineOfSight>false</requireLineOfSight>
			<warmupTime>1</warmupTime>
			<targetable>false</targetable>
			<targetParams>
				<canTargetSelf>true</canTargetSelf>
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="Mashed_Bloodmoon.CompProperties_AbilityStressCost">
				<stressCost>15</stressCost>
			</li>
			<li Class="CompProperties_AbilityGiveHediff">
				<compClass>CompAbilityEffect_GiveHediff</compClass>
				<hediffDef>Mashed_Bloodmoon_AdrenalineRush</hediffDef>
			</li>
		</comps>
	</AbilityDef>
	<HediffDef>
		<defName>Mashed_Bloodmoon_AdrenalineRush</defName>
		<label>adrenaline rush</label>
		<description>Adrenaline surging throughout the body, completely nullifying pain and staunching bleeding.</description>
		<defaultLabelColor>(0.95, 0.52, 0.52)</defaultLabelColor>
		<hediffClass>HediffWithComps</hediffClass>
		<comps>
			<li Class="HediffCompProperties_Disappears">
				<showRemainingTime>true</showRemainingTime>
			</li>
			<li Class="HediffCompProperties_DisappearsOnDeath"/>
			<li Class="HediffCompProperties_Effecter">
				<stateEffecter>Mashed_Bloodmoon_AdrenalineRush</stateEffecter>
			</li>
		</comps>
		<stages>
			<li>
				<painFactor>0</painFactor>
			</li>
		</stages>
	</HediffDef>
	<!-- ==========[Mashed_Bloodmoon_BeastHowl]==========-->
	<AbilityDef>
		<defName>Mashed_Bloodmoon_BeastHowl</defName>
		<label>beast howl</label>
		<description>Unleash a terrifying howl that momentarily stuns all nearby hostiles.</description>
		<iconPath>UI/Abilities/Mashed_Bloodmoon_BeastHowl</iconPath>
		<statBases>
			<Ability_EffectRadius>4.9</Ability_EffectRadius>
			<Ability_Duration>6</Ability_Duration>
		</statBases>
		<targetRequired>false</targetRequired>
		<canUseAoeToGetTargets>true</canUseAoeToGetTargets>
		<verbProperties>
			<verbClass>Verb_CastAbility</verbClass>
			<warmupTime>0.5</warmupTime>
			<range>4.9</range>
			<drawAimPie>false</drawAimPie>
			<requireLineOfSight>false</requireLineOfSight>
			<targetParams>
				<canTargetSelf>true</canTargetSelf>
				<canTargetPawns>true</canTargetPawns>
				<canTargetBuildings>false</canTargetBuildings>
				<canTargetAnimals>true</canTargetAnimals>
				<canTargetHumans>true</canTargetHumans>
				<canTargetMechs>false</canTargetMechs>
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="Mashed_Bloodmoon.CompProperties_AbilityStressCost">
				<stressCost>10</stressCost>
			</li>
			<li Class="Mashed_Bloodmoon.CompProperties_AbilityDoDamage">
				<damageDef>Stun</damageDef>
			</li>
		</comps>
	</AbilityDef>
	<!-- ==========[Mashed_Bloodmoon_BeastLeap]==========-->
	<AbilityDef>
		<defName>Mashed_Bloodmoon_BeastLeap</defName>
		<label>beast leap</label>
		<description>Leap to a nearby location using strong beastial legs.</description>
		<iconPath>UI/Abilities/Mashed_Bloodmoon_BeastLeap</iconPath>
		<cooldownTicksRange>60</cooldownTicksRange>
		<hostile>false</hostile>
		<casterMustBeCapableOfViolence>false</casterMustBeCapableOfViolence>
		<verbProperties>
			<verbClass>Verb_CastAbilityJump</verbClass>
			<label>leap</label>
			<violent>false</violent>
			<forceNormalTimeSpeed>false</forceNormalTimeSpeed>
			<warmupTime>0.5</warmupTime>
			<range>6.9</range>
			<requireLineOfSight>true</requireLineOfSight>
			<soundCast>Longjump_Jump</soundCast>
			<soundLanding>Longjump_Land</soundLanding>
			<targetParams>
				<canTargetLocations>true</canTargetLocations>
				<canTargetPawns>false</canTargetPawns>
				<canTargetBuildings>false</canTargetBuildings>
			</targetParams>
		</verbProperties>
		<jobDef>CastJump</jobDef>
		<comps>
			<li Class="Mashed_Bloodmoon.CompProperties_AbilityStressCost">
				<stressCost>5</stressCost>
			</li>
		</comps>
	</AbilityDef>
	<!-- ==========[Mashed_Bloodmoon_HuntsmansMark]==========-->
	<AbilityDef>
		<defName>Mashed_Bloodmoon_HuntsmansMark</defName>
		<label>Huntsman's mark</label>
		<description>Set your sights on a specific target, increasing all damage the target takes by 50% for a short period of time.</description>
		<iconPath>UI/Abilities/Mashed_Bloodmoon_HuntsmansMark</iconPath>
		<statBases>
			<Ability_Duration>150</Ability_Duration>
		</statBases>
		<verbProperties>
			<drawAimPie>false</drawAimPie>
			<range>14.9</range>
			<warmupTime>0.25</warmupTime>
			<verbClass>Verb_CastAbility</verbClass>
			<targetParams>
				<canTargetSelf>false</canTargetSelf>
				<canTargetPawns>true</canTargetPawns>
				<canTargetBuildings>false</canTargetBuildings>
				<canTargetAnimals>true</canTargetAnimals>
				<canTargetHumans>true</canTargetHumans>
				<canTargetMechs>false</canTargetMechs>
				<mustBeSelectable>true</mustBeSelectable>
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="Mashed_Bloodmoon.CompProperties_AbilityStressCost">
				<stressCost>10</stressCost>
			</li>
			<li Class="CompProperties_AbilityGiveHediff">
				<compClass>Mashed_Bloodmoon.CompAbilityEffect_GiveHediffLinked</compClass>
				<hediffDef>Mashed_Bloodmoon_HuntsmansMark</hediffDef>
				<onlyBrain>false</onlyBrain>
				<applicableToMechs>true</applicableToMechs>
				<replaceExisting>true</replaceExisting>
			</li>
		</comps>
	</AbilityDef>
	<HediffDef>
		<defName>Mashed_Bloodmoon_HuntsmansMark</defName>
		<label>Huntsman's mark</label>
		<description>This pawn has been marked by a lycanthrope, increasing all damage they take by 50% for a short period of time.</description>
		<defaultLabelColor>(0.95, 0.52, 0.52)</defaultLabelColor>
		<hediffClass>HediffWithComps</hediffClass>
		<comps>
			<li Class="HediffCompProperties_Disappears">
				<showRemainingTime>true</showRemainingTime>
			</li>
			<li Class="HediffCompProperties_DisappearsOnDeath"/>
			<li Class="HediffCompProperties_Link">
				<requireLinkOnOtherPawn>false</requireLinkOnOtherPawn>
				<maxDistance>999</maxDistance>
				<customMote>Mashed_Bloodmoon_HuntsmansMarkLinkLine</customMote>
			</li>
			<li Class="HediffCompProperties_Effecter">
				<stateEffecter>Mashed_Bloodmoon_HuntsmansMark</stateEffecter>
			</li>
		</comps>
		<stages>
			<li>
				<statOffsets>
					<IncomingDamageFactor>0.5</IncomingDamageFactor>
				</statOffsets>
			</li>
		</stages>
	</HediffDef>
	<!-- ==========[Mashed_Bloodmoon_MoonVeil]==========-->
	<AbilityDef MayRequireAnyOf="ludeon.rimworld.royalty,ludeon.rimworld.anomaly">
		<defName>Mashed_Bloodmoon_MoonVeil</defName>
		<label>moon veil</label>
		<description>Blend into the moonlight, effectively becoming invisible to others. This ability can only be used at night, or during specific lunar conditions.</description>
		<iconPath>UI/Abilities/Mashed_Bloodmoon_MoonVeil</iconPath>
		<cooldownTicksRange>1200</cooldownTicksRange>
		<hostile>false</hostile>
		<casterMustBeCapableOfViolence>false</casterMustBeCapableOfViolence>
		<statBases>
			<Ability_Duration>20</Ability_Duration>
		</statBases>
		<verbProperties>
			<verbClass>Verb_CastAbility</verbClass>
			<drawAimPie>false</drawAimPie>
			<requireLineOfSight>false</requireLineOfSight>
			<warmupTime>1</warmupTime>
			<targetable>false</targetable>
			<targetParams>
				<canTargetSelf>true</canTargetSelf>
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="Mashed_Bloodmoon.CompProperties_AbilityStressCost">
				<stressCost>10</stressCost>
			</li>
			<li Class="Mashed_Bloodmoon.CompProperties_AbilityLunarRequirement">
				<gameConditions>
					<li>Eclipse</li>
				</gameConditions>
			</li>
			<li Class="CompProperties_AbilityGiveHediff">
				<compClass>CompAbilityEffect_GiveHediff</compClass>
				<hediffDef>PsychicInvisibility</hediffDef>
			</li>
		</comps>
	</AbilityDef>
	<!-- ==========[Mashed_Bloodmoon_QuillBarrage]========== -->
	<AbilityDef ParentName="SpikeLaunchBase">
		<defName>Mashed_Bloodmoon_QuillBarrage</defName>
		<label>quill barrage</label>
		<description>Launch a volley of keratinised quills with low accuracy at a target. The quills will take some time to regrow afterwards.</description>
		<cooldownTicksRange>2400</cooldownTicksRange>
		<verbProperties>
			<ai_IsWeapon>true</ai_IsWeapon>
			<verbClass>Verb_AbilityShoot</verbClass>
			<burstShotCount>13</burstShotCount>
			<ticksBetweenBurstShots>0.3</ticksBetweenBurstShots>
			<accuracyTouch>0.5</accuracyTouch>
			<accuracyShort>0.6</accuracyShort>
			<accuracyMedium>0.4</accuracyMedium>
			<accuracyLong>0.2</accuracyLong>
			<stopBurstWithoutLos>false</stopBurstWithoutLos>
			<range>6.9</range>
			<soundCast>Gorehulk_Spine_Launch</soundCast>
			<defaultProjectile>Mashed_Bloodmoon_Quill</defaultProjectile>
		</verbProperties>
		<comps>
			<li Class="Mashed_Bloodmoon.CompProperties_AbilityStressCost">
				<stressCost>10</stressCost>
			</li>
		</comps>
	</AbilityDef>
	<ThingDef ParentName="BaseBullet">
		<defName>Mashed_Bloodmoon_Quill</defName>
		<label>keratanised quill</label>
		<graphicData>
			<texPath>Things/Projectile/Projectile_GorehulkSpike</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<projectile>
			<damageDef>RangedStab</damageDef>
			<armorPenetrationBase>0.05</armorPenetrationBase>
			<damageAmountBase>6</damageAmountBase>
			<stoppingPower>1</stoppingPower>
			<speed>55</speed>
		</projectile>
	</ThingDef>
</Defs>